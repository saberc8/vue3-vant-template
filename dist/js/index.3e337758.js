"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("./index.e60f37de.js"),B=require("./index.8e48c50d.js"),T=require("./_plugin-vue_export-helper.9e7bfbef.js"),I=(t,r)=>{const n=e.ref(),c=()=>{n.value=e.useRect(t).height};return e.onMounted(()=>{if(e.nextTick(c),r)for(let a=1;a<=3;a++)setTimeout(c,100*a)}),e.onPopupReopen(()=>e.nextTick(c)),n};function C(t,r){const n=I(t,!0);return c=>e.createVNode("div",{class:r("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[c()])}const[y,f]=e.createNamespace("nav-bar"),$={title:String,fixed:Boolean,zIndex:e.numericProp,border:e.truthProp,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var w=e.defineComponent({name:y,props:$,emits:["click-left","click-right"],setup(t,{emit:r,slots:n}){const c=e.ref(),a=C(c,f),s=i=>r("click-left",i),d=i=>r("click-right",i),o=()=>n.left?n.left():[t.leftArrow&&e.createVNode(e.Icon,{class:f("arrow"),name:"arrow-left"},null),t.leftText&&e.createVNode("span",{class:f("text")},[t.leftText])],p=()=>n.right?n.right():e.createVNode("span",{class:f("text")},[t.rightText]),l=()=>{const{title:i,fixed:u,border:m,zIndex:h}=t,v=e.getZIndexStyle(h),_=t.leftArrow||t.leftText||n.left,x=t.rightText||n.right;return e.createVNode("div",{ref:c,style:v,class:[f({fixed:u}),{[e.BORDER_BOTTOM]:m,"van-safe-area-top":t.safeAreaInsetTop}]},[e.createVNode("div",{class:f("content")},[_&&e.createVNode("div",{class:[f("left"),e.HAPTICS_FEEDBACK],onClick:s},[o()]),e.createVNode("div",{class:[f("title"),"van-ellipsis"]},[n.title?n.title():i]),x&&e.createVNode("div",{class:[f("right"),e.HAPTICS_FEEDBACK],onClick:d},[p()])])])};return()=>t.fixed&&t.placeholder?a(l):l()}});const A=e.withInstall(w),[k,g]=e.createNamespace("tabbar"),S={route:Boolean,fixed:e.truthProp,border:e.truthProp,zIndex:e.numericProp,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:e.makeNumericProp(0),safeAreaInsetBottom:{type:Boolean,default:null}},V=Symbol(k);var R=e.defineComponent({name:k,props:S,emits:["change","update:modelValue"],setup(t,{emit:r,slots:n}){const c=e.ref(),{linkChildren:a}=e.useChildren(V),s=C(c,g),d=()=>{var l;return(l=t.safeAreaInsetBottom)!=null?l:t.fixed},o=()=>{var l;const{fixed:i,zIndex:u,border:m}=t;return e.createVNode("div",{ref:c,role:"tablist",style:e.getZIndexStyle(u),class:[g({fixed:i}),{[e.BORDER_TOP_BOTTOM]:m,"van-safe-area-bottom":d()}]},[(l=n.default)==null?void 0:l.call(n)])};return a({props:t,setActive:(l,i)=>{e.callInterceptor(t.beforeChange,{args:[l],done(){r("update:modelValue",l),r("change",l),i()}})}}),()=>t.fixed&&t.placeholder?s(o):o()}});const E=e.withInstall(R),[O,b]=e.createNamespace("tabbar-item"),j=e.extend({},B.routeProps,{dot:Boolean,icon:String,name:e.numericProp,badge:e.numericProp,badgeProps:Object,iconPrefix:String});var D=e.defineComponent({name:O,props:j,emits:["click"],setup(t,{emit:r,slots:n}){const c=B.useRoute(),a=e.getCurrentInstance().proxy,{parent:s,index:d}=e.useParent(V);if(!s)return;const o=e.computed(()=>{var i;const{route:u,modelValue:m}=s.props;if(u&&"$route"in a){const{$route:h}=a,{to:v}=t,_=e.isObject(v)?v:{path:v};return!!h.matched.find(x=>{const N="path"in _&&_.path===x.path,P="name"in _&&_.name===x.name;return N||P})}return((i=t.name)!=null?i:d.value)===m}),p=i=>{var u;o.value||s.setActive((u=t.name)!=null?u:d.value,c),r("click",i)},l=()=>{if(n.icon)return n.icon({active:o.value});if(t.icon)return e.createVNode(e.Icon,{name:t.icon,classPrefix:t.iconPrefix},null)};return()=>{var i;const{dot:u,badge:m}=t,{activeColor:h,inactiveColor:v}=s.props,_=o.value?h:v;return e.createVNode("div",{role:"tab",class:b({active:o.value}),style:{color:_},tabindex:0,"aria-selected":o.value,onClick:p},[e.createVNode(e.Badge,e.mergeProps({dot:u,class:b("icon"),content:m},t.badgeProps),{default:l}),e.createVNode("div",{class:b("text")},[(i=n.default)==null?void 0:i.call(n,{active:o.value})])])}}});const M=e.withInstall(D);const H={class:"app-header"},L=e.defineComponent({__name:"index",setup(t){const r=e.useRouter(),n=e.useRoute();return(c,a)=>{const s=e.Icon,d=A;return e.openBlock(),e.createElementBlock("div",H,[e.createVNode(d,{title:e.unref(n).meta.title,"left-arrow":e.unref(n).name!=="home",onClickLeft:a[0]||(a[0]=o=>e.unref(r).back()),onClickRight:a[1]||(a[1]=o=>e.unref(r).push("/login"))},{right:e.withCtx(()=>[e.createVNode(s,{name:"friends-o"})]),_:1},8,["title","left-arrow"])])}}});const z=e.defineComponent({name:"tabbar"}),F=e.defineComponent({...z,setup(t){const r=e.ref(0),n=e.reactive([{icon:"wap-home-o",title:"\u4E3B\u9875",to:{name:"home"}},{icon:"star-o",title:"\u5206\u7C7B",to:{name:"category"}},{icon:"manager-o",title:"\u5173\u4E8E",to:{name:"about"}}]);return(c,a)=>{const s=M,d=E;return e.openBlock(),e.createBlock(d,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=o=>r.value=o),fixed:"",placeholder:!0,route:!0},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n,(o,p)=>(e.openBlock(),e.createBlock(s,{key:p,icon:o.icon,to:o.to},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.title),1)]),_:2},1032,["icon","to"]))),128))]),_:1},8,["modelValue"])}}}),q={class:"app-layout"},K={class:"app-content"},Z={class:"app-wrapper__footer"},U=e.defineComponent({__name:"index",setup(t){return(r,n)=>{const c=e.resolveComponent("router-view");return e.openBlock(),e.createElementBlock("div",q,[e.createVNode(L),e.createBaseVNode("div",K,[e.createVNode(c)]),e.createBaseVNode("footer",Z,[e.createVNode(F)])])}}});const Y=T._export_sfc(U,[["__scopeId","data-v-b7a5c016"]]);exports.default=Y;
