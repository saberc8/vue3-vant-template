import{r as k,o as H,n as w,a as j,u as K,c as n,b as y,d as h,e as C,t as P,g as N,H as S,B as q,I as $,w as A,m as G,f as J,h as U,i as Y,j as Z,k as Q,l as W,p as X,q as ee,s as te,v as ae,x as g,y as R,z as I,A as B,C as ne,D as oe,E as re,F as V,G as se,J as ce,K as ie,L as le,M as O,N as ue}from"./index.9b91f413.js";import{r as de,u as _e}from"./index.befccb13.js";import{_ as fe}from"./_plugin-vue_export-helper.5059d46b.js";const me=(e,o)=>{const t=k(),s=()=>{t.value=K(e).height};return H(()=>{if(w(s),o)for(let r=1;r<=3;r++)setTimeout(s,100*r)}),j(()=>w(s)),t};function D(e,o){const t=me(e,!0);return s=>n("div",{class:o("placeholder"),style:{height:t.value?`${t.value}px`:void 0}},[s()])}const[ve,_]=y("nav-bar"),he={title:String,fixed:Boolean,zIndex:C,border:P,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var xe=h({name:ve,props:he,emits:["click-left","click-right"],setup(e,{emit:o,slots:t}){const s=k(),r=D(s,_),l=c=>o("click-left",c),u=c=>o("click-right",c),a=()=>t.left?t.left():[e.leftArrow&&n($,{class:_("arrow"),name:"arrow-left"},null),e.leftText&&n("span",{class:_("text")},[e.leftText])],x=()=>t.right?t.right():n("span",{class:_("text")},[e.rightText]),i=()=>{const{title:c,fixed:d,border:m,zIndex:b}=e,v=N(b),f=e.leftArrow||e.leftText||t.left,p=e.rightText||t.right;return n("div",{ref:s,style:v,class:[_({fixed:d}),{[q]:m,"van-safe-area-top":e.safeAreaInsetTop}]},[n("div",{class:_("content")},[f&&n("div",{class:[_("left"),S],onClick:l},[a()]),n("div",{class:[_("title"),"van-ellipsis"]},[t.title?t.title():c]),p&&n("div",{class:[_("right"),S],onClick:u},[x()])])])};return()=>e.fixed&&e.placeholder?r(i):i()}});const be=A(xe),[L,E]=y("tabbar"),ge={route:Boolean,fixed:P,border:P,zIndex:C,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:G(0),safeAreaInsetBottom:{type:Boolean,default:null}},M=Symbol(L);var pe=h({name:L,props:ge,emits:["change","update:modelValue"],setup(e,{emit:o,slots:t}){const s=k(),{linkChildren:r}=J(M),l=D(s,E),u=()=>{var i;return(i=e.safeAreaInsetBottom)!=null?i:e.fixed},a=()=>{var i;const{fixed:c,zIndex:d,border:m}=e;return n("div",{ref:s,role:"tablist",style:N(d),class:[E({fixed:c}),{[U]:m,"van-safe-area-bottom":u()}]},[(i=t.default)==null?void 0:i.call(t)])};return r({props:e,setActive:(i,c)=>{Y(e.beforeChange,{args:[i],done(){o("update:modelValue",i),o("change",i),c()}})}}),()=>e.fixed&&e.placeholder?l(a):a()}});const Be=A(pe),[Ce,T]=y("tabbar-item"),ke=Z({},de,{dot:Boolean,icon:String,name:C,badge:C,badgeProps:Object,iconPrefix:String});var Te=h({name:Ce,props:ke,emits:["click"],setup(e,{emit:o,slots:t}){const s=_e(),r=Q().proxy,{parent:l,index:u}=W(M);if(!l)return;const a=X(()=>{var c;const{route:d,modelValue:m}=l.props;if(d&&"$route"in r){const{$route:b}=r,{to:v}=e,f=ae(v)?v:{path:v};return!!b.matched.find(p=>{const z="path"in f&&f.path===p.path,F="name"in f&&f.name===p.name;return z||F})}return((c=e.name)!=null?c:u.value)===m}),x=c=>{var d;a.value||l.setActive((d=e.name)!=null?d:u.value,s),o("click",c)},i=()=>{if(t.icon)return t.icon({active:a.value});if(e.icon)return n($,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var c;const{dot:d,badge:m}=e,{activeColor:b,inactiveColor:v}=l.props,f=a.value?b:v;return n("div",{role:"tab",class:T({active:a.value}),style:{color:f},tabindex:0,"aria-selected":a.value,onClick:x},[n(ee,te({dot:d,class:T("icon"),content:m},e.badgeProps),{default:i}),n("div",{class:T("text")},[(c=t.default)==null?void 0:c.call(t,{active:a.value})])])}}});const Pe=A(Te);const Ie={class:"app-header"},ye=h({__name:"index",setup(e){const o=ne(),t=oe();return(s,r)=>{const l=$,u=be;return g(),R("div",Ie,[n(u,{title:B(t).meta.title,"left-arrow":B(t).name!=="home",onClickLeft:r[0]||(r[0]=a=>B(o).back()),onClickRight:r[1]||(r[1]=a=>B(o).push("/login"))},{right:I(()=>[n(l,{name:"friends-o"})]),_:1},8,["title","left-arrow"])])}}});const $e=h({name:"tabbar"}),Ae=h({...$e,setup(e){const o=k(0),t=re([{icon:"wap-home-o",title:"\u4E3B\u9875",to:{name:"home"}},{icon:"star-o",title:"\u5206\u7C7B",to:{name:"category"}},{icon:"manager-o",title:"\u6211\u7684",to:{name:"me"}}]);return(s,r)=>{const l=Pe,u=Be;return g(),V(u,{modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=a=>o.value=a),fixed:"",placeholder:!0,route:!0},{default:I(()=>[(g(!0),R(ce,null,se(t,(a,x)=>(g(),V(l,{key:x,icon:a.icon,to:a.to},{default:I(()=>[ie(le(a.title),1)]),_:2},1032,["icon","to"]))),128))]),_:1},8,["modelValue"])}}}),Re={class:"app-layout"},we={class:"app-content"},Se={class:"app-wrapper__footer"},Ve=h({__name:"index",setup(e){return(o,t)=>{const s=ue("router-view");return g(),R("div",Re,[n(ye),O("div",we,[n(s)]),O("footer",Se,[n(Ae)])])}}});const De=fe(Ve,[["__scopeId","data-v-3a1db8ad"]]);export{De as default};
